#!/bin/sh

t="[41C"
h="\033[31m"
n="\033[00m\033[01m"
echo "\033[01m\033[34m"
cat ~/scr/themes/logo
echo "\033[21A"
echo ""
echo "$t $h$(whoami)$n@$h$(hostname)"
echo ""
os="$(cat /etc/os-release | grep '^NAME' | awk -F '\"' '{print $2}')"
kernel="$(uname -r)"
uptime="$(uptime -p | cut -c 4-)"
pacman_ps="$(pacman -Q | wc -l)"
rust_ps="$(cargo install --list | grep ':' | grep -v '/home' | wc -l)" # don't count projects
font="$(strings /usr/local/bin/st | grep -m 1 "antialias" | awk -F ':' '{print $1}')"
screens="$(xrandr 2>/dev/null | grep '*' | awk -F ' ' '{print $1}' | awk '{print}' ORS=', ')"
cpu_name="$(cat /proc/cpuinfo | grep 'model name' -s | sed 1q | awk -F ':' '{print $2}')"
cpu_siblings="$(cat /proc/cpuinfo | grep 'siblings' -s | sed 1q | awk -F ' ' '{print $3}')"
gpu="$(lspci -mm | grep 'VGA' | sed -e 's/.*\[\(.*\)\].*/\1/')"
memstr="$(free -m | grep 'Mem:')"
memuse="$(echo $memstr | awk 'ORS="";{print $3}')"
memtot="$(echo $memstr | awk 'ORS="";{print $2}')"
echo "$t "$h"OS"$n": $os"
echo "$t "$h"Kernel"$n": $kernel"
echo "$t "$h"Shell"$n": $SHELL"
echo "$t "$h"Uptime"$n": $uptime"
echo "$t "$h"Packages"$n": $pacman_ps (Pacman), $rust_ps (Rust)"
echo "$t "$h"Terminal"$n": $TERM"
echo "$t "$h"Font"$n": $font"
echo "$t "$h"Editor"$n": $EDITOR"
echo "$t "$h"WM"$n": i3-gaps"
echo "$t "$h"Screens"$n": $screens"
echo "$t "$h"CPU"$n":$cpu_name ($cpu_siblings)"
echo "$t "$h"GPU"$n": $gpu"
echo "$t "$h"Memory"$n": $memuse / $memtot MB"
echo ""

b="    "
echo "$t [38;5;8m[48;5;8m$b[38;5;9m[48;5;9m$b[38;5;10m[48;5;10m$b[38;5;11m[48;5;11m$b[38;5;12m[48;5;12m$b[38;5;13m[48;5;13m$b[38;5;14m[48;5;14m$b[38;5;15m[48;5;15m$b[m"
echo "$t [30m[40m$b[31m[41m$b[32m[42m$b[33m[43m$b[34m[44m$b[35m[45m$b[36m[46m$b[37m[47m$b[m"

echo "\n"
